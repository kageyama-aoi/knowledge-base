# Claude Code AI経営管理システム 構築指示書

あなた（Claude Code）は、このファイルの指示に従って「AI経営管理システム」をゼロから構築してください。ユーザーの業務情報をヒアリングしながら、Step 1から順番に進めてください。

---

## 全体像

構築するものは以下の5つです。この順番で進めてください。

| Step | コンポーネント | 内容 |
|:-----|:------------|:-----|
| 1 | フォルダ構造 | 事業情報を集約するディレクトリを作成する |
| 2 | CLAUDE.md | あなた自身の業務マニュアルを作成する |
| 3 | MCP連携 | 外部ツール（Google Calendar、Notion等）を接続する |
| 4 | Skills | 繰り返し業務をスラッシュコマンドとして定義する |
| 5 | Agent Team | 複数エージェントによるチーム作業を定義する |

**重要**: 各Stepの冒頭で、ユーザーに必要な情報をヒアリングしてから作業に入ること。推測で進めない。

---

## Step 1：フォルダ構造をつくる

### ヒアリング項目
ユーザーに以下を確認する：
- このフォルダをどこに作成するか（パス）
- 主な業務カテゴリ（例：戦略、経理、プロジェクト管理、コンテンツ発信、学習 等）
- 既存のドキュメントがどこにあるか（Notion、Google Docs、ローカル等）

### 実行内容
以下のベース構造を作成する。ヒアリング結果に応じてフォルダ名・構成をカスタマイズすること。

```
{ユーザー指定のパス}/
├── CLAUDE.md              ← Step 2で作成
├── DAILY.md               ← 毎日の日報・作業ログ
├── 00_context/            ← プロフィール・経歴・スキル情報
│   ├── portfolio/
│   └── memories/          ← AIメモリの保存先
├── 01_strategy/           ← 事業戦略・方針
├── 02_finance/            ← 経理・請求管理
├── 03_projects/           ← 進行中プロジェクト（案件ごとにサブフォルダ）
├── 05_learning/           ← インプット・記事クリップ
└── output/                ← AI出力ファイルの置き場
    ├── trends/
    ├── digest/
    └── articles/
```

### 完了条件
- すべてのディレクトリが作成されている
- DAILY.mdが初期テンプレートで作成されている
- ユーザーに構造を見せて確認を取る

---

## Step 2：CLAUDE.mdを作成する

### ヒアリング項目
ユーザーに以下を確認する：
- あなたに求める役割（経営パートナー、リサーチャー、秘書 等）
- 事業の概要（業種、収益モデル、主要サービス）
- 日常的に行っている業務（例：戦略立案、コンテンツ発信、経理、タスク管理）
- 特に自動化したい業務
- 機密情報の取り扱いルール

### 実行内容
プロジェクトフォルダ直下に`CLAUDE.md`を作成する。以下のセクションを必ず含めること。

```markdown
# [事業名 or ユーザー名] コンテキスト

## あなたの役割
（ヒアリング結果をもとに記述）

## 事業概要
（事業構造・収益モデル・主要サービス）

## ディレクトリ構造
| ディレクトリ | 役割 |
|-------------|------|
（Step 1で作成した各フォルダの役割を記述）

## ワークフロー定義
- 「おはよう」「今日の予定は？」と打たれたら → `/daily-schedule` スキルを発動
- 「Issueにして」「タスク登録して」と言われたら → `/issue-triage` スキルを発動
- 「覚えておいて」と言われたら → `/agent-memory` スキルを発動

## 外部ツール連携
（Step 3の後に追記する。ここにはプレースホルダを残す）

## 注意事項
（機密情報の取り扱い等）
```

### 完了条件
- CLAUDE.mdがフォルダ直下に作成されている
- ユーザーに内容を見せて確認・修正を受ける
- 修正があれば反映する

---

## Step 3：MCP連携を設定する

### ヒアリング項目
ユーザーに以下を確認する：
- 日常的に使っているツール（以下のどれを接続するか）
  - [ ] Google Calendar（予定管理）
  - [ ] Notion（ドキュメント・データベース管理）
  - [ ] Google Sheets（スプレッドシート）
  - [ ] Slack（メッセージング）
  - [ ] GitHub（タスク・コード管理）
  - [ ] Figma（デザイン）
  - [ ] Playwright（Web自動化）
  - [ ] その他
- 各ツールのAPIキー・認証情報の準備状況

### 各ツールの設定手順

#### Google Calendar
1. `@cocal/google-calendar-mcp` をインストール
2. Google Cloud ConsoleでOAuth 2.0クライアントIDを作成（ユーザーに手順を案内）
3. `~/.claude/` 配下のMCP設定ファイルに追記
4. 接続テスト：今日の予定を取得して表示

#### Notion
1. Notion Internal Integrationを作成するようユーザーに案内（https://www.notion.so/my-integrations）
2. APIキーを取得
3. MCP設定ファイルに追記
4. 接続テスト：指定のデータベースを読み取って表示

#### Google Sheets
1. Google Sheets MCPをインストール
2. OAuth認証を設定
3. 接続テスト：指定のスプレッドシートを読み取って表示

#### Slack
1. Slack MCPをインストール
2. Slack Appを作成し、Bot Token Scopesを設定するようユーザーに案内
3. 接続テスト：指定チャンネルのメッセージを取得して表示

#### GitHub
1. `gh auth login` でGitHub CLIの認証を行う（CLIは標準搭載）
2. 接続テスト：ユーザーのリポジトリ一覧を取得して表示

#### Playwright
1. Playwright MCPをインストール
2. 接続テスト：任意のURLのスクリーンショットを取得して表示

### 設定完了後
- CLAUDE.mdの「外部ツール連携」セクションに、接続済みツールの情報を追記する
- 各ツールの接続先ID、用途、注意事項を記載する

### 完了条件
- 選択されたすべてのツールのMCP接続が完了している
- 各ツールの接続テストが成功している
- CLAUDE.mdに連携情報が追記されている

---

## Step 4：Skillsを作成する

### ヒアリング項目
ユーザーに以下を確認する：
- 最も頻繁に行う繰り返し業務は何か
- 以下のうちどのスキルを作りたいか（優先度順に選んでもらう）

### 作成するSkills

Skillsは `.claude/commands/` フォルダにMarkdownファイルとして作成する。各スキルファイルには、実行手順・参照先・出力形式を明確に定義すること。

#### 4-1. `/daily-schedule`（朝の工程表）— 最優先で作成

```markdown
# daily-schedule.md に記載する内容

毎朝の工程表を作成するスキル。以下の手順で実行する：

1. Google Calendarから今日の予定を取得（連携済みカレンダーすべて）
2. GitHub Issueから進行中・未着手のタスクを取得
3. DAILY.mdを読み込み、昨日の未完了タスクを確認
4. プロジェクトフォルダを確認し、期限の近いタスクを把握
5. タスクを「緊急度×重要度」と「認知負荷」で分類
6. 15分刻みの工程表を生成
7. DAILY.mdに本日の工程表を書き込む
```

#### 4-2. `/issue-triage`（タスク管理）

```markdown
# issue-triage.md に記載する内容

ユーザーのテキスト入力からGitHub Issueを自動作成するスキル。

1. 入力テキストからタスクの内容・優先度・カテゴリを判定
2. 適切なラベルを自動付与
   - タイプ: type:task / type:idea / type:content
   - 優先度: priority:high / priority:medium / priority:low
   - ドメイン: ユーザーの業務カテゴリに合わせる
3. 既存Issueとの重複をチェック
4. GitHub Issueを作成し、Projectボードに追加
5. 作成結果をユーザーに報告
```

#### 4-3. `/agent-memory`（メモリ保存）

```markdown
# agent-memory.md に記載する内容

会話中の重要な情報をメモリファイルに保存するスキル。

1. 会話から保存すべき情報を抽出
   - 意思決定とその理由
   - ユーザーの個人的な好み・方針
   - 事実情報・データ
2. 適切なカテゴリに分類
3. 00_context/memories/ 配下の適切なファイルに追記
4. 保存内容をユーザーに報告
```

#### 追加スキル候補（ユーザーが希望する場合）

| スキル | ファイル名 | 内容 |
|:------|:---------|:-----|
| `/trend-check` | trend-check.md | Web検索・SNSからトレンド情報を収集し、分類して output/trends/ に保存 |
| `/write-draft` | write-draft.md | テーマを受け取り、記事の下書きを生成して output/articles/ に保存 |
| `/title-gen` | title-gen.md | 記事内容から複数パターンのタイトルを生成 |
| `/update-finance` | update-finance.md | Google Sheetsから経理データを取得し、02_finance/ を更新 |
| `/weekly-report` | weekly-report.md | 週次の業務・成果をまとめたレポートを生成 |

### CLAUDE.mdの更新
作成した各スキルのトリガーワードをCLAUDE.mdの「ワークフロー定義」セクションに追記する。

### 完了条件
- 選択されたすべてのスキルファイルが `.claude/commands/` に作成されている
- 各スキルをテスト実行し、正常に動作することを確認
- CLAUDE.mdにワークフロー定義が追記されている

---

## Step 5：Agent Teamを定義する

### ヒアリング項目
ユーザーに以下を確認する：
- チームで取り組みたい業務は何か（記事執筆、戦略分析、競合調査 等）
- まず1チームだけ構築する。どの業務を選ぶか

### 作成するAgent Team

ユーザーの選択に応じて、`.claude/agents/` にエージェント定義ファイルを作成する。以下は代表例。

#### 例A：記事執筆チーム

| エージェント | 役割 |
|:-----------|:-----|
| リサーチャーA | テーゼ・アンチテーゼ・ジンテーゼの論考分析 |
| リサーチャーB | 技術・産業の事実ベースの調査 |
| リサーチャーC | 批判的思考（Devil's Advocate） |
| 構成エージェント | 3本のリサーチを統合し、記事の構成案を設計 |
| 編集長 | 「洞察の深さ」「論理の明快さ」「So What?の強さ」「構成の完成度」の4軸でレビュー |
| ライター | 編集長のフィードバックを反映した原稿を執筆 |

**ワークフロー**: リサーチャー3人が並列実行 → 構成エージェント → 編集長レビュー → ライター執筆 → 編集長最終レビュー

#### 例B：戦略分析チーム

| エージェント | 役割 |
|:-----------|:-----|
| 問いの設計 | 分析すべき問いを構造化 |
| 市場調査 | 市場規模・トレンド・競合を調査 |
| 定量分析 | 財務データ・KPIを分析 |
| 戦略設計 | 調査結果を統合し、戦略オプションを設計 |
| 批判的レビュー | 戦略の弱点・リスクを指摘 |

### Agent TeamのSkills化
構築したチームを `/strategy` や `/write-article` のようなスキルとして登録し、コマンド一発で起動できるようにする。

### 完了条件
- エージェント定義ファイルが作成されている
- テスト実行で各エージェントが正しく連携することを確認
- Skills化されている

---

## Step 6：Git管理を設定する

### 実行内容
1. プロジェクトフォルダをGitリポジトリとして初期化する
2. `.gitignore` を作成する（以下を含める）：
   - `.env`
   - `*.key`
   - `credentials/`
   - APIキー・トークンを含むファイル
3. 初回コミットを作成する
4. ユーザーの許可を得た上で、GitHubにプライベートリポジトリを作成しpushする

### 完了条件
- Gitリポジトリが初期化されている
- .gitignoreに機密ファイルが登録されている
- GitHubにプライベートリポジトリが作成されている（ユーザーが希望した場合）

---

## 最終確認

すべてのStepが完了したら、以下を実施する：

1. **動作テスト**: 「おはよう」と入力し、`/daily-schedule` が正常に動作することを確認
2. **全体レビュー**: 作成されたファイル一覧をユーザーに提示
3. **CLAUDE.mdの最終確認**: すべての連携情報・スキル定義・ワークフローが記載されていることを確認
4. **次のアクション提案**: 日常運用で徐々に追加していくべきスキルや改善点を提案

### ユーザーへの案内
> セットアップは完了です。明日の朝から「おはよう」と入力するだけで、工程表が自動生成されます。
> 日常的に使う中で「これも自動化したい」と思った作業があれば、いつでも「これをSkills化して」と言ってください。
